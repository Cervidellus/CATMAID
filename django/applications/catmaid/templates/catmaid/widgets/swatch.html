<span style="background-image:
            linear-gradient(45deg, #808080 25%%, transparent 25%%),
            linear-gradient(-45deg, #808080 25%%, transparent 25%%),
            linear-gradient(45deg, transparent 75%%, #808080 75%%),
            linear-gradient(-45deg, transparent 75%%, #808080 75%%);
        background-size: 20px 20px;
        background-position: 0 0, 0 10px, 10px -10px, -10px 0px;">

  <input id="{{ widget.attrs.id }}"
            style="background-color:rgba(0, 0, 0, 0);"
            type="text" disabled="disabled">
    </input>
</span>
<script>(function (id) {
    var baseId = id.match(/^(.+)_\d$/)[1];
    var inputIds = [0, 1, 2, 3].map(function (ind) { return baseId + "_" + ind; });

    updateColorSwatch = function () {
        rgba = inputIds.map(function (id) {
            return parseFloat(document.getElementById(id).value);
        });
        [0, 1, 2].forEach(function (ind) {
            rgba[ind] = Math.round(255 * rgba[ind]);
        });
        document.getElementById(id).style.backgroundColor = "rgba(" + rgba.join(', ') + ")";
    };

    inputIds.forEach(function (id) {
        document.getElementById(id).onchange = updateColorSwatch;
    });

    updateColorSwatch();
})("{{ widget.attrs.id }}")
</script>
